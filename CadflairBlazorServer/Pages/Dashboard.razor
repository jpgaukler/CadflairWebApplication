@page "/dashboard"
@attribute [Authorize]

<PageTitle>Cadflair</PageTitle>

<!--pop-up to start a new free trial if no subscription is found for the user-->
<MudPopover Open="@_showGetStarted" AnchorOrigin="Origin.CenterCenter" TransformOrigin="Origin.CenterCenter" Delay="500">
    <MudOverlay Visible DarkBackground AutoClose="false">
        <MudPaper>
            <MudStack AlignItems="AlignItems.Center" Class="pa-5">
                <MudText Typo="Typo.h4">Welcome to Cadflair</MudText>
                <MudText Typo="Typo.body1">Start your <b>30 day free trial</b> to begin!</MudText>
                <MudButton Href="/subscription/new" Variant="Variant.Filled" Color="Color.Primary">Get Started</MudButton>
            </MudStack>
        </MudPaper>
    </MudOverlay>
</MudPopover>

<MudText Typo="Typo.h1">Dashboard</MudText>
<MudText Typo="Typo.h6">@_authenticationService.LoggedInUser?.FullName</MudText>

<!-- product list view -->
<MudDataGrid T="ProductQuoteRequest" Items="_productQuoteRequests"
         RowClick="ProductQuoteRequestGrid_RowClick"
         ColumnResizeMode="ResizeMode.Column"
         Elevation="0" Height="100%" Class="overflow-auto"
         Dense Hover FixedHeader>
    <Columns>
        <PropertyColumn Property="x => x.Id" Title="Id" />
        <PropertyColumn Property="x => x.FirstName" Title="First Name" />
        <PropertyColumn Property="x => x.LastName" Title="Last Name" />
        <PropertyColumn Property="x => x.EmailAddress" Title="Email" />
        <PropertyColumn Property="x => x.PhoneNumber" Title="Phone" />
        <PropertyColumn Property="x => x.PhoneExtension" Title="Extension" />
    </Columns>
</MudDataGrid>

